<%- include('_header') %>

<h1><%= title %></h1>

<button onclick="window.location.href='/new-invoice'">Create New Invoice</button>
<button onclick="window.location.href='/new-customer'">Create New Customer</button>
<button onclick="window.location.href='/all-customer'">Customer List</button>
<button onclick="window.location.href='/set-user'">Set user details</button>

<table border="1">
  <tr>
    <th>ID</th>
    <th>Customer Name</th>
    <th>Due Date</th>
    <th>Amount</th>
    <th>Status</th>
    <th>Actions</th>
  </tr>

  <% for (const invoice of invoices) { %>
    <tr>
      <td><%= invoice.id %></td>
      <td><%= invoice.customer_name %></td>
      <td><%= invoice.due_date %></td>
      <td><%= invoice.amount %></td>
      <td><%= invoice.status %></td>
      <td>
        <a href="/invoice/<%= invoice.id %>">View</a>
        <a href="/delete-invoice/<%= invoice.id %>" onclick="return confirm('Are you sure you want to delete this invoice?')">Delete</a>
        <a href="/download-invoice/<%= invoice.id %>">Download PDF</a>
      </td>
    </tr>
  <% } %>
</table>
<h3>Total Amount Invoiced: <%= totalAmount %></h3>

<%- include('_footer') %>
